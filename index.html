<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Marina Dahl</title>
<style>
:root{--bg:#fff;--fg:#222;--accent:#0057b8;--card:#f5f5f5;--border:#ccc;--trans:180ms;--footer-h:72px}
.dark{--bg:#0b1116;--fg:#e6eef8;--accent:#0057b8;--card:#0f1720;--border:#24303a}
*{box-sizing:border-box}
html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg);transition:background var(--trans),color var(--trans)}
body{margin:0;display:flex;flex-direction:column;min-height:100vh}
header{padding:2rem 1rem 1rem;background:var(--accent);color:#fff;position:relative;text-align:center}
#theme-toggle{position:absolute;right:.6rem;top:.6rem;padding:.35rem .6rem;border-radius:6px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.12);cursor:pointer}

/*Content-Box */
.content-box{
  width:66.666vw;
  min-width:320px;
  max-width:1200px;
  margin:0 auto;
  min-height:calc(100vh - var(--footer-h) - 1.5rem);
  padding:0 1rem 1.5rem;
  box-sizing:border-box;
}

/* Tabs und Panels immer auf Content-Box-Breite */
.tabs,.tabpanels{width:100%}
.tab{box-sizing:border-box}

/* Footer */
.site-footer{background:var(--accent);color:#fff;height:var(--footer-h);min-height:var(--footer-h);display:flex;align-items:center;padding:0}
.footer-inner{max-width:1200px;width:66.666vw;margin:0 auto;padding:0 1rem;display:flex;align-items:center;justify-content:space-between;gap:1rem}
.imprint{font-size:.9rem}
.footer-logos{display:flex;gap:.5rem;align-items:center}
.footer-logos a{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:6px;background:rgba(255,255,255,.08);color:#fff;text-decoration:none}
.footer-logos svg{width:20px;height:20px;fill:currentColor}

/* Tabs */
.tabs{display:flex;gap:.5rem;border-bottom:1px solid rgba(0,0,0,.06)}
.tab{background:transparent;border:0;padding:.6rem .9rem;border-radius:8px 8px 0 0;font-weight:600;cursor:pointer;color:var(--fg)}
.tab[aria-selected="true"]{background:var(--card);box-shadow:0 -2px 0 0 var(--accent) inset}
.tab:focus{outline:2px solid rgba(0,87,184,.12);outline-offset:2px}

/* Panels / Intro */
.tabpanels{padding:1rem 0 0}
.panel[hidden]{display:none}
.intro{display:grid;grid-template-columns:auto 1fr;gap:1rem;align-items:start}
.intro-text{padding-left:1rem}
.intro-img{align-self:stretch;justify-self:start}
.intro-img figure{margin:0;height:100%;display:flex;align-items:center;justify-content:center}
.intro-img img{height:200px;width:auto;max-width:100%;border:3px solid var(--accent);display:block}

/* Table / gallery */
table{width:100%;border-collapse:collapse;background:var(--card)}
th,td{border:1px solid var(--border);padding:.5rem;text-align:left}
th{background:var(--accent);color:#fff;font-weight:700}
.gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}
.card{background:var(--card);border:1px solid var(--border);border-radius:8px;overflow:hidden;display:flex;flex-direction:column}
.card figure{margin:0;height:140px;overflow:hidden;background:#eee}
.map-embed{border:0;width:100%;height:100%;display:block}
.card-content{padding:1rem}
.card-title{color:var(--accent);font-weight:700;margin-bottom:.4rem}

/* preview boxes: gestapelt, Bild links, Text rechts */
.article-grid{
  display:flex;
  flex-direction:column;
  gap:1rem;
  width:100%;
}
.preview{
  display:flex;
  flex-direction:row;
  gap:1rem;
  align-items:flex-start;
  width:100%;
  border:1px solid var(--border);
  background:var(--card);
  border-radius:8px;
  overflow:hidden;
  text-decoration:none;
  color:inherit;
}
.preview img{
  width:160px;          
  height:auto;
  object-fit:cover;
  flex:0 0 160px;
  display:block;
}
.preview .meta{
  padding:.75rem;
  flex:1 1 auto;
}
.preview h3{margin:0 0 .5rem 0;color:var(--accent)}
.preview p{margin:0;color:var(--fg)}

@media (max-width:900px){.intro{grid-template-columns:1fr;gap:1rem}.intro-img{width:320px;justify-self:center}.intro-img img{height:auto;width:100%}.tabs{flex-wrap:wrap}}
</style>
</head>

<body>
<header>
  <h1>Marina Dahl</h1>
  <p>Willkommen auf meiner persönlichen Startseite</p>
  <button id="theme-toggle" aria-pressed="false" aria-label="Wechsel zwischen hellem und dunklem Modus">Light</button>
</header>

<main>
  <!-- Content-Box: Platzhalter für Seiteninhalt, setzt Breite und Mindesthöhe -->
  <div class="content-box">
    <!--Tabs-->
    <nav class="tabs" role="tablist" aria-label="Hauptnavigation">
      <button class="tab" role="tab" id="tab-about" aria-controls="panel-about" aria-selected="true" tabindex="0">Über mich</button>
      <button class="tab" role="tab" id="tab-current" aria-controls="panel-current" aria-selected="false" tabindex="-1">Aktuelles</button>
      <button class="tab" role="tab" id="tab-projects" aria-controls="panel-projects" aria-selected="false" tabindex="-1">Projekte</button>
    </nav>
    <!--Tab: Über mich-->
    <div class="tabpanels">
      <section id="panel-about" class="panel" role="tabpanel" aria-labelledby="tab-about">
        <div class="intro">
          <div class="intro-img"><figure><img src="img/Portrait.jpg" alt="Portrait"></figure></div>
          <div class="intro-text">
            <p>Hallo! Ich bin Marina Dahl, Studentin der Geoinformatik an der Hochschule Mainz. Ich interessiere mich für Karten und Webentwicklung.</p>
            <p>Auf dieser Seite ein kurzer Überblick über meinen Werdegang und Projekte.</p>
          </div>
        </div>

        <div class="intro-table">
          <h2>Mein Werdegang</h2>
          <table>
            <thead><tr><th>Jahr</th><th>Station</th><th>Ort</th><th>Stichwort</th></tr></thead>
            <tbody>
              <tr><td>2017</td><td>Abitur</td><td>Mainz</td><td>Schulabschluss</td></tr>
              <tr><td>2019</td><td>Studienbeginn</td><td>Mainz</td><td>Geoinformatik</td></tr>
              <tr><td>2023</td><td>Werkstudentin</td><td>Mainz</td><td>Webmapping</td></tr>
            </tbody>
          </table>
        </div>
      </section>
      <!--Tab: Aktuelles-->  
      <section id="panel-current" class="panel" role="tabpanel" aria-labelledby="tab-current" hidden>
        <h2>Aktuelles</h2>
        <div class="article-grid" id="news-list">Lade Neuigkeiten…</div>
      </section>
      <!--Tab: Projekte--> 
      <section id="panel-projects" class="panel" role="tabpanel" aria-labelledby="tab-projects" hidden>
        <h2>Projekte &amp; Links</h2>
        <div class="gallery">
          <!--Karten-->
          <div class="card">
            <figure><iframe class="map-embed" title="Berlin" src="https://www.openstreetmap.org/export/embed.html?bbox=13.0884%2C52.3383%2C13.7611%2C52.6755&layer=mapnik&marker=52.52%2C13.4050" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></figure>
            <div class="card-content"><div class="card-title">Berlin</div><div>Die Hauptstadt von Deutschland</div></div>
          </div>

          <div class="card">
            <figure><iframe class="map-embed" title="Hochschule Mainz" src="https://www.openstreetmap.org/export/embed.html?bbox=8.2445%2C49.9905%2C8.2495%2C49.9935&layer=mapnik&marker=49.99195%2C8.24712" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></figure>
            <div class="card-content"><a href="https://www.hs-mainz.de/studium/studiengaenge/technik/geoinformatik-bsc/uebersicht/" target="_blank" rel="noopener"><div class="card-title">Hochschule Mainz</div><div>Hier finden Sie nähere Informationen zu meinem Studium</div></a></div>
          </div>

          <div class="card">
            <figure><iframe class="map-embed" title="OSM Deutschland" src="https://www.openstreetmap.org/export/embed.html?bbox=5.5%2C47.0%2C15.5%2C55.5&layer=mapnik&marker=51.1657%2C10.4515" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></figure>
            <div class="card-content"><a href="https://www.openstreetmap.org/" target="_blank" rel="noopener"><div class="card-title">OpenStreetMap</div><div>Ein tolles Projekt.</div></a></div>
          </div>
        </div>
      </section>
    </div>

  </div>
</main>

<!-- Footer:-->
<footer class="site-footer" role="contentinfo">
  <div class="footer-inner">
    <div class="imprint">© Marina Dahl</div>
    <!--Logos-->
    <div class="footer-logos">
      <a href="https://github.com/dahlmarina8-pixel" target="_blank" rel="noopener" aria-label="GitHub">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .5a12 12 0 00-3.8 23.4c.6.1.8-.3.8-.6v-2.1c-3.3.7-4-1.6-4-1.6-.5-1.3-1.2-1.7-1.2-1.7-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1 1.6.7 2 .6.1-.8.4-1.4.7-1.7-2.6-.3-5.3-1.3-5.3-5.6 0-1.2.4-2.2 1.1-3-.1-.3-.5-1.6.1-3.3 0 0 .9-.3 3 .1a10.2 10.2 0 015.5 0c2.1-.4 3-.1 3-.1.6 1.7.2 3 .1 3.3.7.8 1.1 1.8 1.1 3 0 4.3-2.7 5.3-5.3 5.6.4.4.8 1.1.8 2.2v3.3c0 .3.2.7.8.6A12 12 0 0012 .5z"/></svg>
      </a>
      <a href="https://www.linkedin.com/in/your-profile" target="_blank" rel="noopener" aria-label="LinkedIn">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4.98 3.5a2.5 2.5 0 11.02 0zM3 8.98h3.98V21H3zM9.5 8.98H13v1.6h.06c.5-.95 1.73-1.95 3.56-1.95 3.81 0 4.51 2.5 4.51 5.75V21h-3.98v-5.07c0-1.21-.02-2.77-1.69-2.77-1.7 0-1.96 1.33-1.96 2.68V21H9.5z"/></svg>
      </a>
      <a href="https://mail.google.com/mail/?view=cm&fs=1&to=marina.dahl@students.hs-mainz.de" target="_blank" rel="noopener" aria-label="Gmail">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
      </a>
    </div>
  </div>
</footer>

<script>
/* Theme toggle */
(function(){
  const b=document.getElementById('theme-toggle'),r=document.documentElement,s=localStorage.getItem('theme'),p=window.matchMedia&&window.matchMedia('(prefers-color-scheme:dark)').matches;
  let dark=s? s==='dark': p;
  const u=()=>{r.classList.toggle('dark',dark);b.setAttribute('aria-pressed',dark);b.textContent=dark?'Dark':'Light';};
  b.addEventListener('click',()=>{dark=!dark;localStorage.setItem('theme',dark?'dark':'light');u()});
  u();
})();

/* Tabs (click + keyboard arrows) */
(function(){
  const tabs=Array.from(document.querySelectorAll('.tab')), panels=tabs.map(t=>document.getElementById(t.getAttribute('aria-controls')));
  const activate=i=>{tabs.forEach((t,idx)=>{const on=idx===i;t.setAttribute('aria-selected',on);t.tabIndex=on?0:-1;panels[idx].hidden=!on});tabs[i].focus()};
  tabs.forEach((t,i)=>{t.addEventListener('click',()=>activate(i));t.addEventListener('keydown',e=>{if(e.key==='ArrowRight'){e.preventDefault();activate((i+1)%tabs.length)}if(e.key==='ArrowLeft'){e.preventDefault();activate((i-1+tabs.length)%tabs.length)}if(e.key==='Home'){e.preventDefault();activate(0)}if(e.key==='End'){e.preventDefault();activate(tabs.length-1)}})});
  activate(0);
})();
</script>

<!-- Neue Script-Sektion: lädt ./news.json, sortiert nach Datum (neu → alt) und rendert .preview-Elemente -->
<script>
(async function loadNews(){
  const container = document.getElementById('news-list');
  if(!container) return;
  try{
    const res = await fetch('./news.json', {cache: "no-store"});
    if(!res.ok) throw new Error('Fehler beim Laden der News');
    const data = await res.json();
    if(!Array.isArray(data)) throw new Error('Ungültiges News-Format');

    // Sortieren: aktuellste zuerst (Datum im ISO-Format erwarten)
    data.sort((a,b)=> new Date(b.date) - new Date(a.date));

    container.innerHTML = ''; // clear loading text

    data.forEach(item=>{
      const a = document.createElement('a');
      a.className = 'preview';
      a.href = item.url || item.link || '#';
      a.target = '_blank';
      a.rel = 'noopener';

      const img = document.createElement('img');
      img.src = item.image || 'img/placeholder.png';
      img.alt = item.title || '';

      const meta = document.createElement('div');
      meta.className = 'meta';

      const h3 = document.createElement('h3');
      h3.textContent = item.title || 'Ohne Titel';

      const date = document.createElement('div');
      date.style.fontSize = '0.85rem';
      date.style.color = 'var(--fg)';
      if(item.date){
        const d = new Date(item.date);
        date.textContent = d.toLocaleDateString(undefined, {year:'numeric',month:'short',day:'numeric'});
      }

      const p = document.createElement('p');
      p.textContent = item.summary || item.text || '';

      meta.appendChild(h3);
      if(date.textContent) meta.appendChild(date);
      meta.appendChild(p);

      a.appendChild(img);
      a.appendChild(meta);
      container.appendChild(a);
    });

    if(data.length === 0){
      container.textContent = 'Keine Neuigkeiten vorhanden.';
    }
  }catch(err){
    console.error(err);
    container.textContent = 'Fehler beim Laden der Neuigkeiten.';
  }
})();
</script>
</body>
</html>